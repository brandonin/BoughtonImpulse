(function(n){n.execute(function(){n.when("A","jQuery").register("imageBlockLogger",function(e,a){window.ImageBlockclientLogger=function(e,i){var b=this,c={},d={"www.amazon.com":"fls-na",devo:"fls-devo.vipinteg"};b.logSingleton=function(a){c[a]=1};b.logHit=function(a){c[a]?c[a]++:c[a]=1};b.logKeyValuePair=function(a,b){c[a]=b};b.deleteKey=function(a){c[a]&&delete c[a]};b.startTimer=function(a){c[a]=+new Date};b.endTimer=function(a){c[a]&&(c[a]=+new Date-c[a])};b.upload=function(){var b=(location.protocol==
"https:"?"https://":"http://")+(d[location.host]||d.devo)+".amazon.com/1/softlines/1/OP/"+e+"?"+a.param(c)+"&_="+ +new Date;(new Image).src=b};i&&a(window).unload(function(){b.upload()})}});n.when("A","jQuery").register("imageBlockUtils",function(e,a){function n(a,b){if(a&&b.volume!=null)a.setVolume(b.volume),b.volume=null}function i(h){var b=c.colorToAsin[h];b&&b.asin&&a.ajax({url:"/gp/product/features/apparel-main-image/videos.html",data:{asin:b.asin,productGroupID:c.productGroupID,useAiryVideoPlayer:!0,
useChromelessVideoPlayer:c.useChromelessVideoPlayer,isUDP:c.isUDP},dataType:"json",timeout:4E3,success:function(a){a&&(d[h]=a,e.trigger("image-block-video-fetch-completed",h,null,!0))}})}var b={},c,d,ja,j,F,M=!1,H=a("#main-image-container"),f=null,O=0;b.VIDEO_UNSUPPORTED_CLASS_NAME="noflash";b.flashNotInstalled=!1;b.embedAiryForChromelessPlayback=function(h,z,d,c,f,r){function K(){e.trigger("image-block-select-thumbnail",c.find("img:first"));e.trigger("image-block-first-thumbnail-selected")}return airyInstance=
Airy.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:h[0],streamingUrls:z.url,swfUrl:d.swfUrl,foresterMetadataParams:d.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=h.find("video").length>0?"HTML5":"FLASH";f.logKeyValuePair("ChromelessVideo",a)},playing:function(){h.parent().css("z-index",8)},videounsupported:function(){b.flashNotInstalled=!0;K();f.logKeyValuePair("ChromelessVideo",
"NO_FLASH_ERROR");r.addClass(b.VIDEO_UNSUPPORTED_CLASS_NAME)},error:function(){K();f.logKeyValuePair("ChromelessVideo","ERROR")},ended:function(){airyInstance.seek(0)}},cuePoints:[{values:z.durationSeconds-1,type:"position",callback:function(b,z,d){b=d.durationSeconds-d.playheadTimeSeconds;h.css("background-color","white").find(".airy-renderer-container").fadeTo(b*1E3,0.1,function(){h.parent().css({"background-color":"transparent","z-index":-1});K();a(this).show().css("opacity",1)})}}]})};b.embedAiryForChromefulPlayback=
function(h,b,d,f){var l=a.extend({},d.foresterMetadataParams);f!=null&&(l.method+="."+f);h=Airy.embed({parentElement:h[0],streamingUrls:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:d.swfUrl,foresterMetadataParams:l,backgroundColor:"transparent",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:d.videoAds,bindings:{screenchange:function(){c.isAUIPopoverEnabled&&a("#ivvideo_"+O).click()}}});
n(h,d);return h};b.setCurrentVideoSelected=function(a){O=a};b.loadMediaIntoAiryAndSetVolume=function(a,b,d){a&&a.getMediaSourceInfo()!==b.url&&(a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}),n(a,d))};b.setLandingColor=function(a){j=a};b.resizeHappened=function(){M=!0};b.getMainBlockHeight=function(){var a=H.get(0),b=0;if(typeof a!=="undefined")M?(b=a.offsetWidth/
c.holderRatio,b=b>c.holderMaxHeight?c.holderMaxHeight:b):b=a.style.height;return b};b.loadImageManually=function(h,d){a(h,d).each(function(){var h=a(this);if(!h.attr("data-a-image-already-loaded")){h.attr("data-a-image-already-loaded",!0);var d=b.loadDynamicImage(h),d=a("<img>").attr("src",d||h.data("a-image-source"));d.attr("data-a-hires",h.data("a-hires"));d.attr("data-old-hires",h.data("old-hires"));d.attr("data-a-manual-replacement",h.data("a-manual-replacement"));d.attr("data-a-dynamic-image",
JSON.stringify(h.data("a-dynamic-image")));var c="";c+=h.attr("class");var f=h.data("a-extra-classes");f&&(c+=" "+f);d.attr("class",c);d.attr("id",h.attr("id"));d.attr("style",h.attr("style"));h.replaceWith(d)}})};b.loadImageAsynchronously=function(a,b){if(!(a===null||a===void 0||typeof a!=="string")){var d=new Image;if(b!==null&&b!==void 0&&typeof b==="function")d.onload=b;d.src=a}};b.loadDynamicImage=function(b){var b=a(b),d=b.data("a-dynamic-image");if(d&&typeof d==="object"){var c=b.data("a-dynamic-image-container");
typeof c==="undefined"&&(c=b.parents(".a-dynamic-image-container"),c.length===0&&(c=b.parent()),b.data("a-dynamic-image-container",c));var f=window.devicePixelRatio?window.devicePixelRatio:1,l=c.width()*f,r=c.height()*f,e=Number.MAX_VALUE,i=Number.MAX_VALUE,j=b.attr("src")||"",X,Y=l/r;a.each(d,function(a,b){var d=parseInt(b[0],10),h=parseInt(b[1],10);d-=r;h-=l;h=Y>=1?h:d;Math.abs(h)<i&&h>=0&&(i=Math.abs(h),X=a);Math.abs(h)<e&&(e=Math.abs(h),j=a)});X&&(j=X);return j}};b.getVideos=function(a){if(c.useChildVideos){if(a==
j)a=c.defaultColor;d[a]||(d[a]=[],i(a));return d[a]}return c.videos};b.getBestUrlForAvailableWidth=function(b){var d=0,c;a.each(b,function(a,b){b[0]>d&&(c=a,d=b[0])});return c};b.getMaxWidthOfSlateImages=function(b){var d=0;a.each(b,function(a,b){var h=c.switchDynImgDims?parseInt(b[1],10):parseInt(b[0],10);h>d&&(d=h)});return d};b.getMaxHeightOfSlateImages=function(b){var d=0;a.each(b,function(a,b){var h=c.switchDynImgDims?parseInt(b[0],10):parseInt(b[1],10);h>d&&(d=h)});return d};b.getMaxWidthOfMainImage=
function(a){var d=H.width(),a=b.getMaxWidthOfSlateImages(a);a>0&&(d=Math.min(d,a));return d};b.getMaxHeightOfMainImage=function(a){var d=H.height(),a=b.getMaxHeightOfSlateImages(a);a>0&&(d=Math.min(d,a));return d};b.setMaxImageHeight=function(a){typeof a!=="undefined"&&(f=a)};b.getMaxDimensionsOfMainImage=function(){var a,b=c.mainImageHeightPartitions,d=c.mainImageMaxSizes;if(d&&typeof d!=="undefined"){if(c.burjImageBlock&&f&&typeof f!=="undefined")for(r=0;r<d.length;r++)if(f<d[r][1]){r>0&&(a=d[r-
1]);break}if(typeof a==="undefined"&&b&&typeof b!=="undefined"){for(var e=0,l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=0;r<b.length;r++)l>b[r]&&(e=r+1);d.length>=e&&(a=d[e])}}return a};b.getColorFromState=function(b){if(b){var d="",f=DetailPage.StateController.getState().variation_display_labels;a.each(c.visualDimensions,function(a,e){var r=c.gIsNewTwister==1?e:f[e];b[r]&&(d+=" "+b[r])});return d&&d.substring(1)}};b.isBuyableVariation=function(a){if(!a.current_hovered_asin){var b=
a.num_variation_dimensions;return a.num_dimensions_selected!=b&&a.num_dimensions_hovered!=b}return!0};b.showUnavailableExp=function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())};b.hideUnavailableExp=function(){a("#imageBlock .unavailableExp").hide()};b.setImageCaption=function(d,f,e,p,l,r){ja&&clearTimeout(ja);ja=null;l&&(ja=setTimeout(function(){b.setImageCaption(d,f,p)},l));l=a("#image-canvas-caption #canvasCaption");if(f!=="image")l.html("");
else{var j=c.staticStrings,i="";r&&c.useIV?i=j.clickToExpand:F[d]&&F[d][e].hiRes&&c.useHoverZoom?i=c.hoverZoomIndicator&&c.useHoverZoomIpad?"<img src='"+c.staticImages.hoverZoomIcon+"'/>&nbsp;"+j.touchToZoom:c.useHoverZoomIpad?j.touchToZoom:c.hoverZoomIndicator?"<img src='"+c.staticImages.hoverZoomIcon+"'/>&nbsp;"+j.rollOverToZoom:c.useClickZoom?j.clickToZoom:j.rollOverToZoom:c.useIV&&(i=j.clickToExpand);l.html(i)}};b.getSlateImage=function(a){return c.useChildVideos&&c.colorToAsin[a].slate[0]};b.init=
function(a){b.options=c=a;F=c.colorImages;j=c.landingColor||c.defaultColor;d={};d[c.defaultColor]=c.videos;return b};typeof JSON!=="object"&&(JSON={});(function(){function a(b){return b<10?"0"+b:b}function b(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var b=i[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(a,c){var f,h,i,l,p=e,A,k=c[a];k&&typeof k==="object"&&typeof k.toJSON==="function"&&(k=k.toJSON(a));typeof n===
"function"&&(k=n.call(c,a,k));switch(typeof k){case "string":return b(k);case "number":return isFinite(k)?String(k):"null";case "boolean":case "null":return String(k);case "object":if(!k)return"null";e+=j;A=[];if(Object.prototype.toString.apply(k)==="[object Array]"){l=k.length;for(f=0;f<l;f+=1)A[f]=d(f,k)||"null";i=A.length===0?"[]":e?"[\n"+e+A.join(",\n"+e)+"\n"+p+"]":"["+A.join(",")+"]";e=p;return i}if(n&&typeof n==="object"){l=n.length;for(f=0;f<l;f+=1)typeof n[f]==="string"&&(h=n[f],(i=d(h,k))&&
A.push(b(h)+(e?": ":":")+i))}else for(h in k)Object.prototype.hasOwnProperty.call(k,h)&&(i=d(h,k))&&A.push(b(h)+(e?": ":":")+i);i=A.length===0?"{}":e?"{\n"+e+A.join(",\n"+e)+"\n"+p+"}":"{"+A.join(",")+"}";e=p;return i}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=
Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,j,i={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;if(typeof JSON.stringify!=="function")JSON.stringify=function(a,b,f){var c;j=e="";if(typeof f===
"number")for(c=0;c<f;c+=1)j+=" ";else typeof f==="string"&&(j=f);if((n=b)&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number"))throw Error("JSON.stringify");return d("",{"":a})};if(typeof JSON.parse!=="function")JSON.parse=function(a,b){function d(a,f){var c,h,e=a[f];if(e&&typeof e==="object")for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(h=d(e,c),h!==void 0?e[c]=h:delete e[c]);return b.call(a,f,e)}var f,a=String(a);c.lastIndex=0;c.test(a)&&(a=a.replace(c,function(a){return"\\u"+
("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+a+")"),typeof b==="function"?d({"":f},""):f;throw new SyntaxError("JSON.parse");}})();return b});n.when("A","jQuery").register("imageMagnifier",function(e,a){function n(a){var c=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i),a={};if(c)for(var c=
c[1].split("_"),d=0;d<c.length;d++){var e=c[d].match(/^([A-Z]+)(\d+(\.\d+)?)$/);e&&(a[e[1]]=Number(e[2]))}return a}var i=window.ue;a.fn.amazonMagnifier=function(b){function c(){var a;b.useClickZoom?(a=b.offsetInClickZoom,a=[Math.min(1,Math.max(0,J[0]-(l[0]+a))/(l[2]-2*a)),Math.min(1,Math.max(0,J[1]-(l[1]+a))/(l[3]-2*a))]):a=z&&z.updatePosition();if(a&&h.detailSize){var d=[h.detailSize[0]-h.rect.width,h.detailSize[1]-h.rect.height];h.detailImage.get(0).style.left=-(a[0]*d[0])+"px";h.detailImage.get(0).style.top=
-(a[1]*d[1])+"px"}}function d(a){var b=W?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";J=W?[b.pageX,b.pageY]:[a.pageX,a.pageY]}function e(a){W&&a.preventDefault();d(a);b.useClickZoom?a=[l[0],l[1],l[0]+l[2],l[1]+l[3]]:(a=z?z.offset:f.offsetParent().offset(),a=[p[0]+a.left,p[1]+a.top,p[0]+p[2]+a.left,p[1]+p[3]+a.top]);J[0]<a[0]||J[1]<a[1]||J[0]>=a[2]||J[1]>=a[3]?b.burjImageBlock?k||(k=!0,x=setTimeout(function(){F(!0)},500)):b.useClickZoom||F():(b.burjImageBlock&&k&&(k=!1,clearTimeout(x)),
c())}function j(){var d=a(b.locationElement).find("select:visible");X?Y=d.hide():a("select").each(function(){a(this).blur()})}function F(b){b&&f.suppressMagnifier(!0);if(K&&(a.browser.msie&&a("#main-image-widget .holder.video").show(),Y&&Y.show(),h&&h.hide(),z&&(z.destroy(),z=null),K=!1,W?(f.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),H(),b))f.one("click.magnifier touchstart.magnifier",
function(a){M(a,!0)})}function M(k,D){D&&f.suppressMagnifier(!1);if(!K&&!ba){document.body&&a(document.body).trigger("click");b.logMetrics&&(fa==0&&(a.imageBlock.logger.logKeyValuePair("hoverTime",new Date-window.ue.t0),fa=1),ga[T]||(a.imageBlock.logger.logHit("hoverMain"),ga[T]=1));p=[f.position().left,f.position().top,f.width(),f.height()];a.browser.msie&&a("#main-image-widget .holder.video").hide();if(T){if(a.browser.msie&&!a.isReady){a("#main-image-widget .holder.video").show();return}j();d(k);
h?h.refit().show():h=new A;b.useClickZoom||(z=z||new ca);l=h.getWindowSize();c()}K=!0;W?(f.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",e).bind("touchend.magnifier",F),a(document).trigger("engaged.magnifier")):(f.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",e));if(D){var L=a("#zoomWindow");if(L.length>0)L.one("click.magnifier touchend.magnifier",function(){F(!0)})}L=i.count("softlinesHoverZoomOverlay:TotalCount")||
0;i.count("softlinesHoverZoomOverlay:TotalCount",L+1)}}function H(){b.useHoverZoom&&(W?f.bind("touchstart.magnifier touchmove.magnifier",M):f.bind("mousemove.magnifier",M))}var f=this,O={detailImageUrl:f.attr("data-old-hires"),location:"over",locationElement:f,prelaod:"ready",zIndex:50,offsetInClickZoom:50},b=a.extend(O,b);b.adjustment=[10,0,-10,0];var h=null,z=null,J=null,p=null,l=null,r={"null":1,"":1,undefined:1},K=!1,ba=!1,T=b.detailImageUrl,X=a.browser.msie&&parseInt(a.browser.version)<=6,Y,
W=b.useHoverZoomIpad||0,fa=0,ga={},ha=navigator.userAgent.match(/msie|trident/i),ca=function(){function d(a){var b=Math.round(Math.min(f.width(),h.rect.width/a)),a=Math.round(Math.min(f.height(),h.rect.height/a));j.css({width:b,height:a});e=[b,a]}var c=this,e=[0,0],k=(h.detailSize&&h.detailSize[0]||5E8)/p[2],i=(h.detailSize&&h.detailSize[1]||5E8)/p[3];i>k&&(k=i);a("#magnifierLens").remove();var j=a("<div id='magnifierLens' />").css({backgroundImage:"url("+b.generalImageUrls.zoomLensBackground+")",
position:"absolute",cursor:"pointer"});c.updatePosition=function(){var a=[p[2]-e[0],p[3]-e[1]],b=a[0]<=0?0.5:Math.max(0,Math.min(1,(J[0]-e[0]/2-p[0]-c.offset.left)/a[0])),d=a[1]<=0?0.5:Math.max(0,Math.min(1,(J[1]-e[1]/2-p[1]-c.offset.top)/a[1])),f=p[0]+Math.round(b*a[0]),a=p[1]+Math.round(d*a[1]);j.get(0).style.left=f+"px";j.get(0).style.top=a+"px";return[b,d]};c.destroy=function(){j.remove()};c.offset=f.offsetParent().offset();d(k);c.updatePosition();j.appendTo(f.parent());h.detailImage[0].complete||
h.detailImage.load(function(){var a=h.detailImage.width()/p[2];d(a);c.updatePosition()})};ca.preload=function(){f.preload(b.generalImageUrls.lensBackgroundUrl)};var A=function(){function d(){var c={};if(b.location=="over")if(b.isUDP){var c=b.useClickZoom,h=b.burjImageBlock,j={left:Infinity,top:Infinity,right:-Infinity,bottom:-Infinity},l=a("#leftCol"),p=a("#centerCol"),n=a("#hover-zoom-end");h?(j.top=l.offset().top,j.bottom=l.outerHeight()+j.top,j.right=l.outerWidth()+l.offset().left):(j.top=p.offset().top,
j.bottom=p.outerHeight()+j.top,j.right=a("#rightCol").offset().left);j.left=c?0:l.offset().left+l.outerWidth();if(n&&n.offset().top>j.bottom)j.bottom=n.offset().top;c=j}else a(".productImageGrid").length>0?c=hoverZoomBound():(c.left=0,c.right=0);else b.location=="right"&&(c=f.offset(),c={left:c.left+f.outerWidth(),top:c.top,right:c.left+f.outerWidth()+400,bottom:c.top+400});if(b.minHeightElement)c.bottom=Math.max(c.bottom,c.top+a(b.minHeightElement).outerHeight());c.bottom=Math.min(c.bottom,a(window).scrollTop()+
a(window).height());c.left+=k[0];c.top+=k[1];c.right+=k[2];c.bottom+=k[3];c.width=c.right-c.left;c.height=c.bottom-c.top;if(b.isHoverZoomEnhancedShadowEnabled&&window.pageXOffset!==void 0)h=a(window).width(),c.width=h-c.left+window.pageXOffset-18,c.height-=14;i.css({left:c.left,top:c.top,width:c.width,height:c.height});e.rect=c;return e}function h(a){var d=new Image;d.src=a.attr("src");if(d.width>0&&d.height>0)e.detailSize=[d.width,d.height];else if(b.detailImageSize)e.detailSize=b.detailImageSize;
else{var a=n(d.src),f=p[2]/p[3];a.SS||a.AA?(a=a.SS||a.AA,e.detailSize=[a,a]):a.SX?e.detailSize=[a.SX,Math.round(a.SX/f)]:a.SY?e.detailSize=[Math.round(a.SY*f),a.SY]:a.SL?e.detailSize=f>=1?[a.SL,Math.round(a.SL/f)]:[Math.round(a.SL*f),a.SL]:(e.detailSize=[0,0],d.onload=function(){e.detailSize=[d.width,d.height];c()})}}var e=this,k=b.adjustment;a("#zoomWindow").remove();var j={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:b.zIndex};if(b.isHoverZoomShawdowEnabled||b.isHoverZoomEnhancedShadowEnabled)j.boxShadow=
"0 6px 8px 2px rgba(0,0,0,.25)",j.border="1px solid #949494",j.borderColor="rgb(148,148,148)";var i=a("<div id='zoomWindow' />").css(j);b.burjImageBlock&&i.fadeIn(200);b.useClickZoom&&(ha?i.css("cursor",'url("'+b.zoomOutIcon+'"), auto'):(i.css("cursor","-webkit-zoom-out"),i.css("cursor","-moz-zoom-out"),i.css("cursor","zoom-out")));e.updateImage=function(b){b=a("<img id='detailImg' src='"+b+"'/>").css("position","absolute");e.detailImage&&e.detailImage.remove();i.append(b);a(document).trigger("updated.magnifier");
e.detailImage=b;h(e.detailImage)};e.refit=function(){d();h(e.detailImage);return e};b.burjImageBlock?(e.show=function(){i.fadeIn(200);return e},e.hide=function(){i.fadeOut(200);return e}):(e.show=function(){i.show();return e},e.hide=function(){i.hide();return e});e.destroy=function(){i.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,e.rect.height]};e.updateImage(T);d();i.appendTo(document.body)},k=!1,x;f.preload=function(b){for(var b=a.makeArray(b),d=b.length,
c=0;c<d;c++)if(b[c]instanceof Array)f.preload(b[c]);else if(typeof b[c]=="string"&&b[c]&&!r[b[c]])r[b[c]]=new Image,r[b[c]].src=b[c]};f.changeImage=function(d,c){K&&F();T=c;f.attr("src",d);if(a.browser.msie)f.get(0).className=f.get(0).className;f.preload(d);p=[f.position().left,f.position().top,f.width(),f.height()];c&&(b.preload=="immediately"?f.preload(c,!0):a(window).ready(function(){f.preload(c)}),h?h.updateImage(c):f.attr("data-old-hires",c))};f.destroy=function(){f.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");
a(document).unbind("mousemove.magnifier");z&&z.destroy();z=null;h&&h.destroy();h=null};f.detailImage=function(){return h.detailImage};f.suppressMagnifier=function(a){ba=a};f.isEngaged=function(){return K};f.engageMagnifier=M;f.disengageMagnifier=F;f[0].complete?H():f.one("load",H);f.preload(this.attr("src"));if(b.preload){var B=b.detailImageUrl,O=function(){f.preload(B,!0);b.useClickZoom||ca.preload()},t=b.preload;t.constructor!=Array&&(t=[t]);for(var U=0;U<t.length;U++)if(t[U]=="immediately")O();
else if(a(window)[t[U]])a(window)[t[U]](O);else a(window).bind(t[U],O)}return f}});n.when("A","jQuery","ImageBlockBTF","a-modal").register("immersiveView",function(e,a,n,i){var b,c;function d(){var b=v?10:15,g=v?"right":"left";u?(y=a('<div id="iv-first-column" style="float: '+g+"; width:"+(a(window).width()-da-330)+"px;height:100%; margin-left: "+S+'px;"/>'),b=a('<div width="100%" id="iv-large-image" style="overflow: hidden; width: 100%;align:center; position:relative; top:0px; left:0px;height:100%"/>')):
(y=a('<div id="iv-first-column" style="float: '+g+"; width:"+(a(window).width()-da-330)+"px;height:100%; margin-right: "+S+'px;"/>'),b=a('<div width="100%" id="iv-large-image" style="overflow: hidden; width: 100%; height: '+(a(window).height()-Z-b)+'px;align:center; position:relative; top:0px; left:0px;"/>'));ma=a("<div></div>").attr("id","iv-large-video").css({overflow:"hidden",width:"100%",height:"100%",align:"center"});Q!=="image"&&b.css("display","none");y.append(b);y.append(ma);u?D.find("#IV-Main").append(y):
D.append(y)}function ja(b){a('<style type="text/css">a.iv-title-link:link {text-decoration: none;}a.iv-title-link:visited {text-decoration: none; color: #003399}a.iv-title-link:hover {text-decoration: underline; color: orange;}</style>').appendTo("head");var g;g=u?'<div class="ivTitle" style="cursor:pointer;color: rgb(0, 51, 153);text-align: left; margin-top: 10px; font-family: verdana, arial, helvetica, sans-serif; font-size: 14px; font-weight: bold; word-wrap: break-word; width: 235px;" id="iv-prod-title" title="'+
A+'">'+ca(A,45)+"</div>":'<div style="text-align: left; margin-top: 10px; font-family: verdana, arial, helvetica, sans-serif; font-size: 14px; font-weight: bold; word-wrap: break-word; width: 235px;" id="iv-prod-title" title="'+A+'"><a class="ap_custom_close iv-title-link" href="">'+ca(A,45)+"</a></div>";g=a(g);g.find(".ap_custom_close").click(O);g.click(function(){u&&V.hide()});b.append(g)}function j(){if(typeof DetailPage!="undefined"&&DetailPage.StateController){var b='<div style="text-align: left;"  id="iv-variation-selection">',
g=DetailPage.StateController.getState(),d=g.variation_label_order,c;for(c in d){var m=d[c],e=g.selected_variations[m],m=g.variation_display_labels[m];e&&(b+='<div style="padding-top:10px; padding-bottom:3px; font-family: verdana, arial, helvetica, sans-serif; font-size:11px; color:#666">'+m+" : "+e+"</div>")}b+="</div>";return a(b)}}function F(){a("<img>").attr("src",""+R.arrow+"");a("<img>").attr("src",""+R.zoomIn+"");a("<img>").attr("src",""+R.zoomOut+"")}function M(){var b=u&&!na?"right":"left",
g=a('<div style="float: '+b+'; padding-left:30px;" id="iv-sec-column"></div>');if(!v){g=a('<div style="float: '+b+'; width: 235px;" id="iv-sec-column"></div>');ja(g);b=g;t&&(u?b.append(a("<div id='variationalColorWrapper'></div>")):b.append(j()));var b=g,d='<div style="width:235px; border:1px solid #C9E1F4; background-color:#EAF3FD; padding-top: 5px; padding-bottom: 5px; margin-top:15px; display: none" id="iv-tabbing">';d+='<select id="iv_media_select" style="position:relative;left:65px">';d+='<option id="all" value="all" selected>'+
ivStrings.allMedia+"</option>";d+='<option id="images" value="images">'+ivStrings.images+"</option>";d+='<option id="videos" value="videos">'+ivStrings.videos+"</option>";d+="</select>";d+=a.browser.msie?'<span class="swSprite s_boxLeft" style="top: -14px; left: -102px; display: none;"> </span>  <span class="swSprite s_boxRight" style="top: -14px; left: 111px; display: none;"> </span>':'<span class="swSprite s_boxLeft" style="top: -12px; left: -102px; display: none;"> </span>  <span class="swSprite s_boxRight" style="top: -12px; left: 108px; display: none;"> </span>';
d+="</div>";d=a(d);b.append(d)}b=g;d="{ border:1px solid #C9E1F4;width:235px;height:290px;padding-left:15px;padding-top:15px;padding-bottom:15px; overflow-y:auto; border-top:0px;position:relative; top:0px; left:0px; }";v&&(d="{ width:135px;padding-left:15px;padding-top:15px;padding-bottom:15px; overflow-y:auto; position:relative; top:0px; left:0px; }");a('<style type="text/css">.iv_thumbs '+d+".iv_thumb_videos {  border:1px solid #C9E1F4;width:235px;height:230px;padding:0px; overflow-y:auto; border-top:0px; }.iv_thumb_video_outer { float:left; width:100%; padding-top:5px; padding-bottom:5px;cursor:pointer}.iv_thumb_video_outer_hover { background-color: #EAF3FD }.iv_thumb_video { border: 1px solid #ddd;float:left; margin-left:10px;margin-right:10px;cursor:pointer; }.iv_thumb { border: 1px solid #ddd;float:left; margin-right:12px; margin-bottom:20px; cursor:pointer; }.iv_thumb_selected { border: 2px solid #E47911; }.iv_thumb_hover { border: 2px solid #004B91; }.iv_thumb_inner { padding: 1px;float:left; }.iv_thumb_inner_selected { padding: 0px; }.iv_thumb_image { float:left;position:relative;width:50px; height:50px; background-color:#ffffff}.iv_thumb_text { float:left; word-wrap:break-word; width:130px; margin-top:10px; font-family:verdana, arial, helvetica, sans-serif; font-size:11px }.iv_thumb_text_popover { font-family: verdana, arial, helvetica, sans-serif; font-size:11px }.iv_thumb_text_hover { background-color: #EAF3FD }</style>").appendTo("head");
d="<div class='iv_thumbs'>";d+="</div>";d+="<div class='iv_thumb_videos' style='display: none; height: 63px;'>";d+="</div>";d=a(d);b.append(d);F();u?D.find("#IV-Main").append(g):D.append(g)}function H(){a("#addIV-Main").click(function(){a("#iv_media_select").css("visibility","visible")});a(window).resize(function(){la&&!u&&p()});f()}function f(){a(".iv_thumb").click(function(){a(".iv_thumb").removeClass("iv_thumb_selected");a(".iv_thumb").removeClass("iv_thumb_hover");a(".iv_thumb").find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected");
a(this).addClass("iv_thumb_selected");a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected");a(this).hasClass("iv_type_video")?(x=a(this).attr("id").split("_")[1],B=-1,u&&L.setCurrentVideoSelected(x),Y()):(u&&a("#iv-large-video").css("display","none"),B=a(this).attr("id").split("_")[1],x=-1,h())});a(".iv_thumb_video_outer").click(function(){a(".iv_thumb_video").removeClass("iv_thumb_selected");a(".iv_thumb_video").removeClass("iv_thumb_hover");a(".iv_thumb_video").find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected");
a(this).find(".iv_thumb_video").addClass("iv_thumb_selected");a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected");x=a(this).attr("id").split("_")[1];B=-1;Y()});a(".iv_thumb").mouseover(function(){aa&&aa.close();a(this).hasClass("iv_thumb_selected")||(a(this).addClass("iv_thumb_hover"),a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected"));if(a(this).hasClass("iv_type_video")){var b=Number(a(this).attr("id").split("_")[1]);if(!(b>=w.length)){var b=w[b],b="<span class='iv_thumb_text_popover'><b>"+
b.title+"</b><br>"+b.durationTimestamp+"</span>",g=a(this).offset().left-a(".iv_thumbs").offset().left<=30?-27:-50,d=-11;a.browser.msie&&parseInt(a.browser.version)==6&&(d=-16);aa=a.AmazonPopover.displayPopover({literalContent:b,width:180,location:["top"],locationElement:this,locationAlign:"middle",locationOffset:[g,d],zIndex:1E3,hoverShowDelay:300,hoverHideDelay:300,showCloseButton:!1,attached:!0,modal:!1});a.browser.msie&&parseInt(a.browser.version)==6?aa.find(".ap_footer").find(".ap_middle").css({position:"relative",
height:"30px",width:"112px",top:"-2px",background:"url("+R.arrow+") -343px -40px"}):aa.find(".ap_footer").find(".ap_middle").css({position:"relative",height:"30px",width:"112px",top:"-3px",background:"url("+R.arrow+") -343px -43px"})}}});a(".iv_thumb_video_outer").mouseover(function(){a(this).addClass("iv_thumb_video_outer_hover");a(this).find(".iv_thumb_text").addClass("iv_thumb_text_hover");a(this).find(".iv_thumb_video").hasClass("iv_thumb_selected")||(a(this).find(".iv_thumb_video").addClass("iv_thumb_hover"),
a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected"))});a(".iv_thumb").mouseout(function(){a(this).hasClass("iv_thumb_selected")||(a(this).removeClass("iv_thumb_hover"),a(this).find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected"));aa&&aa.close()});a(".iv_thumb_video_outer").mouseout(function(){a(this).removeClass("iv_thumb_video_outer_hover");a(this).find(".iv_thumb_text").removeClass("iv_thumb_text_hover");a(this).find(".iv_thumb_video").hasClass("iv_thumb_selected")||(a(this).find(".iv_thumb_video").removeClass("iv_thumb_hover"),
a(this).find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected"))});a("#ap_container").keydown(function(a){if(a.keyCode==37||a.keyCode==38||a.keyCode==39||a.keyCode==40||a.keyCode==33||a.keyCode==34)return!1})}function O(){if(G&&!G.isDetached())ea.volume=G.getVolume(),G.detach(),document.all&&!window.atob&&!document.addEventListener&&(G=null)}function h(){function b(){pa=!1;c.css("visibility","hidden");c.empty();c.animate({opacity:1},200);c.append(d);z();o=!1;$[d.attr("src")]=1}G&&G.hide();
a("#iv-large-image").css("display","block");var g="";k&&k[t]&&k[t].images&&(g=k[t].images.zoomImages[B]);if(g){u?a(".fullScreen").length&&a(".fullScreen").remove():D.find(".fullScreen")&&D.find(".fullScreen").remove();E="<img src='"+g+"'class='fullScreen'/>";var d=a("<img>").attr("src",g);d.addClass("fullScreen");var c=a("#iv-large-image");c.animate({opacity:0.4},200,function(){d.load(function(){b()});a(E).load(function(){b()});if($[d.attr("src")])b();else{pa=!0;c.empty();var g=(y.height()-ta)/2,
m=(y.width()-qa)/2;a("#iv-large-image").append("<img src='"+R.spinner+"' style='position:relative;top:"+g+"px;left:"+m+"px;' />")}});d.load(function(){$[d.attr("src")]=1;J()});a(E).load(function(){$[d.attr("src")]=1;J()})}}function z(){ia=!1;var b=a("#iv-large-image"),g=b.width(),d=b.height(),b=a("#iv-large-image").find(".fullScreen");b.removeAttr("style");var c=C=b.width();s=b.height();c=c>s?c:s;if(b.length>0){if(b[0].naturalWidth)C=b[0].naturalWidth,c=c>C?c:C;if(b[0].naturalHeight)s=b[0].naturalHeight,
c=c>s?c:s}y.css({cursor:"auto"});c>=1E3&&(a.browser.mozilla?y.css({cursor:"-moz-zoom-in"}):y.css({cursor:"url('"+R.zoomIn+"'), auto"}));C=C==0?1:C;s=s==0?1:s;var m=Math.min(g/C,d/s),c=s*m;m*=C;b.css("height",c<s?c-20:s);b.css("width",Math.min(m,C));g=(g-b.width())/2;d=(d-b.height())/2;b.css("margin-top",d);b.css("margin-left",g);a("#iv-large-image").css("visibility","visible")}function J(){for(var b=-3;b<=3;b++){var g=parseInt(B)+b;if(!(g<0))if((g=k&&k[B]?k[B].images.zoomImages[g]:"")&&$[g]==void 0)a("<img>").attr("src",
g).load(function(){$[a(this).attr("src")]=1});else if(!g)break}}function p(){var b=a(window).height()-Z,g=a(window).width()-da;if(u&&V){a("#IV-Main").css({display:"block"});var g=V.$container.find(".a-popover-wrapper").height(),b=V.$container.find(".a-popover-inner"),b=parseInt(b.css("padding-top"))+parseInt(b.css("padding-bottom")),d=V.$container.find(".a-popover-header").height();g-=b+d;a("#IV-Main").css({height:g+"px"});a("#iv-large-image").css({height:g+"px"});var b=a("#iv-prod-title").outerHeight(!0),
d=a("#iv-tabbing").outerHeight(!0),c=a("#iv-variation-selection").outerHeight(!0),b=g-(b+d+c);a(".iv_thumbs").css({height:b+"px"});a(".iv_thumb_videos").css({height:b+"px"});g=V.$container.find(".a-popover-inner").width();b=parseInt(a("#IV-Main").css("padding-left"))+parseInt(a("#IV-Main").css("padding-right"));d=a("#iv-sec-column").width();a("#iv-first-column").css({width:g-(b+d+S+ua)+"px"})}else b>230&&(a("#IV-Main").css({height:b+"px"}),a("#iv-large-image").css({height:b-15+"px"}),b-=ka,a(".iv_thumbs").css({height:b+
"px"}),a(".iv_thumb_videos").css({height:b+sa+"px"})),g>500&&(a("#IV-Main").parents(".ap_popover").css({width:g+"px"}),b=v?250:330,a("#iv-first-column").css({width:g-b+"px"}));x||z()}function l(b){b=r({left:I.left-(b.pageX-N[0])*q,top:I.top-(b.pageY-N[1])*q});(u?a(".fullScreen"):D.find(".fullScreen")).css({left:b.left,top:b.top})}function r(a){if(b>0)a.left=b/2;else if(a.left<b)a.left=b;else if(a.left>0)a.left=0;if(c>0)a.top=c/2;else if(a.top<c)a.top=c;else if(a.top>0)a.top=0;return a}function K(){var b=
0;if(k&&k[t]&&k[t].images&&k[t].images.thumbnails)b=k[t].images.thumbnails.length;var g=w?w.length:0,d=a(".iv_thumbs"),c=a("#iv-tabbing");if(b==0||g==0)c.hide(),d.css({"margin-top":"15px","border-top":"1px solid #C9E1F4"});else{var m=a("#iv_media_select");m.find("#all").text(ivStrings.allMedia+" ("+(b+g)+")");m.find("#videos").remove();m.find("#images").remove();m.append('<option id="images" value="images">'+ivStrings.images+" ("+b+")</option>");m.append('<option id="videos" value="videos">'+ivStrings.videos+
" ("+g+")</option>");c.show();d.css({"margin-top":"0px","border-top":"0px"});m.val("all");ba()}}function ba(){a("#iv_media_select").change(function(){a(this).val()=="all"?(a(".iv_thumb_videos").hide(),a(".iv_thumbs").show(),a(".iv_type_video").show(),B>=0?(x=-1,a("#ivimage_"+B).click()):x>=0&&(B=-1,a("#ivvideo_"+x).click())):a(this).val()=="images"?(a(".iv_thumb_videos").hide(),a(".iv_thumbs").show(),a(".iv_type_video").hide(),x=-1,B>=0?a("#ivimage_"+B).click():(B=0,a("#ivimage_0").click())):a(this).val()==
"videos"&&(a(".iv_thumb_videos").show(),a(".iv_thumbs").hide(),B=-1,x>=0?a("#ivvideolist_"+x).click():(x=0,a("#ivvideolist_0").click()))})}function T(){var b="";a.each(w||[],function(a,g){b+="<div class='iv_thumb_video_outer' id='ivvideolist_"+a+"'>";b+="<div class='iv_thumb_video'>";b+="<div class='iv_thumb_inner'>";b+="<div class='iv_thumb_image' style=\"background:url("+g.thumbUrl+') center no-repeat">';b+="</div>";b+="</div>";b+="</div>";b+="<div class='iv_thumb_text'><b>"+g.title+"</b><br>"+
g.durationTimestamp+"<div style='clear:both'></div></div>";b+="</div>"});a(".iv_thumb_videos").html(b)}function X(){var b;if(k&&k[t])b=k[t].images.thumbnails;var g="",d=0,c=b?b.length:0;c+=(w||[]).length;if(b)for(var m=b.length,e=0;e<m;e++){d%3==0&&(g+="<div style='height:75px;'>");g+="<div class='iv_thumb' id='ivimage_"+e+"'>";g+="<div class='iv_thumb_inner'>";g+="<div class='iv_thumb_image' style=\"background:url("+fa(b[e])+') center no-repeat">';g+="</div>";g+="</div>";g+="</div>";if((d+1)%3==
0||d==c-1)g+="</div>";d++}a.each(w||[],function(a,b){d%3==0&&(g+="<div style='height:75px;'>");g+="<div class='iv_thumb iv_type_video' id='ivvideo_"+a+"'>";g+="<div class='iv_thumb_inner'>";g+="<div class='iv_thumb_image' style=\"background:url("+b.thumbUrl+') center no-repeat">';g+="</div>";g+="<div id='data_ivvideo_"+a+"' value='"+b.mediaObjectId+"' />";g+="</div>";g+="</div>";if((d+1)%3===0||d===c-1)g+="</div>";d++});a(".iv_thumbs").html(g)}function Y(){if(x){u&&a("#iv-large-video").css("display",
"block");a("#iv-large-image").css("display","none").empty();var b=w[x];G?(G.isDetached()&&G.attach(ma[0]),L.loadMediaIntoAiryAndSetVolume(G,b,ea),G.show()):(G=L.embedAiryForChromefulPlayback(ma,b,ea,"ImmersiveView"),ea.enableContinuousPlay&&G.bind("ended",W));G.play({isAsync:!0})}}function W(){var b=parseInt(x)+1;b>=w.length||a("#ivvideo_"+b).click()}function fa(a){var a=a.replace(/'/g,"").replace("._SL75_","").replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,""),a=a.replace(/\._(US)\d+_/,
"").replace(/\._SR\d+,\d+_/,""),b=a.lastIndexOf(".");return a=a.substring(0,b)+"._AA50_"+a.substring(b)}function ga(){O();a("#iv-large-image").empty();a(document.body).css("overflow","auto");a("#ap_container").unbind("keydown");la=!1;Q!="image"&&U&&a("#altImages").find(".a-button-selected").mouseenter()}function ha(){la=!0;a(document.body).css("opacity","");var b=document.body.style;a.browser.msie&&b&&b.filter==""&&b.removeAttribute("filter");b=a("body").scrollTop()+28+"px";v&&(a("body").css("overflow",
"hidden"),b=a(document).scrollTop()+"px",a(".ap_closetext").css("font-size","16px"));a("#IV-Main").parents(".ap_popover").css({top:b});B>=0?a("#ivimage_"+B).click():x>=0?a("#ivvideo_"+x).click():a("#ivimage_0").click();p()}function ca(a,b){var g=a=new String(a);if(a.length>b){try{for(var d=-1,c=0;c<a.length;c++){var m=a.charAt(c);if(m==" "||m=="."||m=="?"||m==";"||m==","||m==":")d=c;if(c==b-4){g=a.substring(0,d==-1?c:d);break}}}catch(e){g=a.substring(0,b-3)}g+="..."}return g}var A,k,x,B,t,U=0,Q,D,
L,R,da=42,Z=125,ka=210,sa=30,la=!1,aa,$={},ta=104,qa=80,y,pa=!1,ia=!1,C,s,I={left:0,top:0};b=void 0;c=void 0;var E,N=[0,0],q=4,o=!1,ma,w=[],G,ea,V,oa,v=!1,u,S=15,ua=20,na;this.iVController=function(b,d,c,f,ra,h,k){u=h;na=k;if(!(b==null||d==null||c==null)||u)if(L||(L=c),ya(d,ra)){oa||(oa=f);if(v=d.showBiggerImmersiveView)da=0,Z=50,ka=110;m()?(va(b,d),D&&D.remove(),za()):(g(b),a("#iv_media_select").val("all"),a(".iv_thumb_videos").hide(),a(".iv_thumbs").show(),a(".iv_type_video").show());u?($dom=a("#auiImmersiveViewDiv"),
c=a(window).height()-Z,f=a(window).width()-da,V=i.create($dom,{name:"immersiveView",activate:"onclick",width:f,height:c,popoverLabel:"ImmersiveView"}),e.on("a:popover:afterShow:immersiveView",function(){va(b,d);K();X();T();H();a("#variationalColorWrapper").html(j());ha()}),e.on("a:popover:afterHide:immersiveView",function(){ga()}),e.on("a:popover:afterUpdatePosition:immersiveView",function(){p()})):a.AmazonPopover.displayPopover(Aa())}};var g=function(b){var g;if(b&&b.action=="thumb-action")g=b.data;
else if(b&&b.action=="main-image-click"||u)if(b=a("altImages,.a-button-selected"),b!=null&&b.parent()!=null&&b.parent().data()!=null)g=b.parent().data().thumbAction;g==null&&(g={thubnailIndex:0,type:"image",index:0});U=g.thumbnailIndex;Q=g.type;Q=="image"||Q=="ingress"?(B=g.index,x=-1):(B=-1,x=g.index)},m=function(){if(t)if(ra()){if(typeof DetailPage!="undefined"&&DetailPage.StateController&&L.getColorFromState(DetailPage.StateController.getState().selected_variations)==t)return!1}else return!1;return!0},
ra=function(){return typeof ra!="undefined"&&ra?!0:!1},va=function(a,b){g(a);t=wa(b);k=Ba(b.colorImages);window.ivStrings=b.staticStrings;A=b.title;R=b.staticImages;ea=b.airyConfig;w=L.getVideos(t)||w},za=function(){D=u?a('<div class = "a-popover-preload" id="a-popover-immersiveView"><div style="display:none;height:'+(a(window).height()-Z)+'px; width:100%; padding: 0px 15px 15px 15px;" id="IV-Main"></div></div>'):a('<div style="display:none;height:'+(a(window).height()-Z)+'px; width:100%; padding: 0px 15px 15px 15px;" id="IV-Main"></div>');
na?(M(),d()):(d(),M());u?D.find("#IV-Main").append('<div style="clear:both"/>'):D.append('<div style="clear:both"/>');a("#imageBlock_feature_div").before(D);D.find("#iv-large-image").click(function(g){if(!o&&!pa)if(ia)z();else if(I=r(I),C>=1E3||s>=1E3)y.find("#iv-large-image").empty().append(E),(u?a(".fullScreen"):D.find(".fullScreen")).load(function(){if(C>=1E3||s>=1E3){a.browser.mozilla?y.css({cursor:"-moz-zoom-out"}):y.css({cursor:"url('"+R.zoomOut+"'), auto"});ia=!0;var d=y.find("#iv-large-image"),
m=u?a(".fullScreen"):D.find(".fullScreen");C=m.width();s=m.height();b=y.width()-C;c=y.height()-s;var m=y.height()/2,e=y.width()/2;N=[d.offset().left+e,d.offset().top+m];I.top=m-s/2;I.left=e-C/2;y.find(".fullScreen").css({position:"relative",left:I.left,top:I.top});q=Math.max(s/y.height(),C/y.width());q=Math.max(q,4)}l(g)})});D.find("#iv-first-column").mousemove(function(a){ia&&l(a)});F();v||K();X();T();H();p()},Ba=function(b){var g={};a.each(b,function(d){g[d]={images:{thumbnails:a.map(b[d],function(a){return a.thumb}),
zoomImages:a.map(b[d],function(a){return a.hiRes||a.large||a.main[a.main.length-1]})}}});return g},ya=function(a,b){var g=wa(a);return a.colorImages&&a.colorImages[g]&&a.colorImages[g].length>0&&(a.useIV||b||u)?!0:!1},wa=function(a){var b=null;typeof DetailPage!="undefined"&&DetailPage.StateController&&(b=L.getColorFromState(DetailPage.StateController.getState().selected_variations));return b=b||a.defaultColor},Aa=function(){var b="close",g=n.staticStrings;g&&g.close&&(b=g.close);var g=v?a(window).width():
a(window).width()-da,d=v?{left:0,top:0}:{left:20,top:28};return{localContent:"#IV-Main",width:g,location:function(){return d},zIndex:999,paddingLeft:0,paddingRight:0,paddingBottom:0,closeText:b,modal:!0,group:"ImmersiveView",onShow:ha,onHide:ga}};return this});n.when("ImageBlockBTF").execute(function(e){e=e.airyConfig;n.load.js(e.jsUrl);e.cssUrl&&n.load.css(e.cssUrl)});n.when("A","jQuery","imageBlockUtils","ImageBlockATF","ImageBlockBTF","immersiveView","imageBlockLogger","Airy").register("imageBlockMain",
function(e,a,xa,i,b,c){if(b&&b.colorImages&&i&&i.colorImages)b.colorImages.initial=i.colorImages.initial,b.colorImages[b.landingAsinColor]=i.colorImages.initial;if(b&&b.heroImage&&i&&i.heroImage)b.heroImage.initial=i.heroImage.initial,b.heroImage[b.landingAsinColor]=i.heroImage.initial;if(b&&b.colorImages&&i&&i.colorToAsin&&i.colorToAsin.initial&&i.colorToAsin.initial[0])b.initialColorToAsinMap=i.colorToAsin.initial[0].main;b.holderRatio=b&&i.holderRatio?i.holderRatio:1;b.holderMaxHeight=i.holderMaxHeight;
b.useStretchyImageFix=i.useStretchyImageFix;new function(b,i){var j,F,M,H,f;function O(){e.declarative("thumb-action",["click",ea?"":"mouseenter"],fa);e.declarative("thumb-action",["mouseleave"],Y);e.declarative("main-image-click",["click"],aa);e.declarative("main-image-click",["mouseenter","mouseleave"],X);e.declarative("main-video-click",["click"],function(a){e.trigger("mainVideoClick",a)});if(b.burjImageBlock)e.on("Burj.ImageBlock.resizeImageBlockEvent",p)}function h(){var a=DetailPage.StateController.getState();
if((a=o.getColorFromState(a.selected_variations))&&a!="")T(a),o.setLandingColor(a);e.on("image-block-twister-swatch-hover",k);e.on("image-block-twister-swatch-click",x);e.on("image-block-video-fetch-completed",ba)}function z(){o.resizeHappened();p();if(q.length&&b.burjImageBlock){var a=J();a&&typeof a!="undefined"&&(a.xPos&&typeof a.xPos!="undefined"?q.css({"background-position":a.xPos+"px "+a.yPos+"px"}):q.css({"background-position":"center "+a.yPos+"px"}),q.css({"background-size":a.width+"px "+
a.height+"px","max-width":a.width+"px","min-height":a.height+"px",filter:"","-ms-filter":""}))}}function J(g){if(b.burjImageBlock){if(!g||typeof g=="undefined"){var c=Q(j);if(c==-1)return;g=a.map(c.main,function(a,b){return b})[0];g=c.main[g]}c=L(g);g=D(c[0],g);return{height:c[1],width:c[0],xPos:g,yPos:75}}}function p(g){var c=E.find(".item .imgTagWrapper"),e=o.getMainBlockHeight();g&&typeof g!=="undefined"&&typeof g.maxImgBlockHeight!=="undefined"&&o.setMaxImageHeight(g.maxImgBlockHeight);var f=
o.getMaxDimensionsOfMainImage();e>0&&(N.height(e),c.height(e));E.find("img.a-dynamic-image").each(function(){var g=a(this);if(g.data("a-manual-replacement")){var c=o.loadDynamicImage(this);c&&g.attr("src",c)}var m;b.useStretchyImageFix?(m=g.data("a-dynamic-image"),c=o.getMaxHeightOfMainImage(m),m=o.getMaxWidthOfMainImage(m)):(c=N.height(),m=N.width());f&&typeof f!=="undefined"&&(m=Math.min(f[0],m),c=Math.min(f[1],c));g.attr("style","max-height: "+c+"px; max-width: "+m+"px;")});qa()}function l(){var b=
N.height(),c=0,d=0;a.each(ma,function(a,b){var g=b[0],e=b[1];g>d&&(d=g,c=e)});b=Math.min(b,c)}function r(g,c,e,f,h){var j=w.find(".template").clone().removeClass("template").addClass("item"),i=a("<img />").attr("src",c.thumb);b.autoplayVideo&&h?g=="chromeless-video"&&j.find(".a-button").addClass("a-button-selected").addClass("a-button-focus"):f==F&&j.find(".a-button").addClass("a-button-selected").addClass("a-button-focus");j.find(".placeHolder").replaceWith(i);j.find(".a-declarative").attr("data-thumb-action",
'{"index":"'+e+'", "thumbnailIndex":"'+f+'", "type": "'+g+'", "variant": "'+c.variant+'"}');return j}function K(a,b,c,d){var e=w.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item");e.find("#altIngressText").append(b+"+");e.find(".a-declarative").attr("data-thumb-action",'{"index":"'+c+'", "thumbnailIndex":"'+d+'", "type": "'+a+'", "variant": ""}');return e}function ba(g,m,f){w.find(".item").remove();var h=0,i=s[g],k=o.getVideos(g),l=k.length>
0&&b.alwaysIncludeVideo?1:0;if(I&&(g=I[g]))g=r("hero-image",g,h,h,m),w.append(g),h++;i&&a.each(i,function(a,g){if(h>=b.maxAlts-l)return M===a&&e.trigger("image-block-select-thumbnail",w.find("img:first")),!1;var c=r("image",g,a,h,m);w.append(c);h++});a.each(k,function(a,g){if(h>=b.maxAlts)return!1;if(b.thumbExperimentEnabledValue!==1)g.thumb=b.staticImages.videoThumbIcon;var c=G?r("chromeless-video",g,a,h,m):r("chromeful-video",g,a,h);w.append(c);h++});i=s[j].length+k.length;b.useAltIngress&&b.maxAlts<
i&&((!f||s[j].length<=b.maxAlts)&&n.when("postMetric").execute(function(a){a.postCountMetric("ccx-altIngress-shown")}),w.append(K("ingress",i-b.maxAlts,0,h)));b.isAUIPopoverEnabled&&c.iVController(null,b,o,oa,void 0,b.isAUIPopoverEnabled,b.thumbnailLeftAlignmentEnabled)}function T(a,b,c,d,e){a&&(j=a);b&&(H=b);typeof c!=="undefined"&&(M=c);typeof d!=="undefined"&&(F=d);e&&(f=e)}function X(b){var c=!1;b.type=="mouseenter"&&(c=!0);var d,b=a("altImages,.a-button-selected");if(b!=null&&b.parent()!=null&&
b.parent().data()!=null)d=b.parent().data().thumbAction;d&&typeof d.index!=="undefined"&&typeof d.thumbnailIndex!=="undefined"&&d.type&&o.setImageCaption(j,d.type,d.index,d.thumbnailIndex,0,c)}function Y(a){(a=a.data)&&typeof a.index!=="undefined"&&typeof a.thumbnailIndex!=="undefined"&&a.type&&o.setImageCaption(j,a.type,a.index,a.thumbnailIndex);b.burjImageBlock&&fa(ua)}function W(){b.useIV&&E.css("cursor","pointer")}function fa(g){var c=g.data;if(!c)return-1;Z();if(c.type==="ingress")return g.type===
"click"&&(n.when("postMetric").execute(function(a){a.postCountMetric("ccx-altIngress-clicked")}),$(g,!0)),-1;if(c.index==null||c.thumbnailIndex==null||c.type==null)return-1;ga(g);var f=g.$declarativeParent.find(".a-button");if(!b.burjImageBlock||b.burjImageBlock&&g.type==="click")w.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus"),a(f).addClass("a-button-selected").addClass("a-button-focus");f=ca(j,c.type,c.index,c.thumbnailIndex);if(f!==-1){v&&!(c.type==="chromeless-video"||
c.type==="chromeful-video")&&ha();if(b.burjImageBlock&&g.type==="click"||b.burjImageBlock&&!na)ua=g,na=!0;A(f);f=!0;V&&(f=V=!1);o.setImageCaption(j,c.type,c.index,c.thumbnailIndex,0,f);T(j,c.type,c.index,c.thumbnailIndex,c.variant);z();g.type==="click"&&!b.notThumbnailClickImmersiveView&&$(g)}else o.showUnavailableExp();e.trigger("image-block-thumbnail-selected",c)}function ga(a){var b=a.data;n.when("postMetric").execute(function(c){c.postCountMetric(b.type+"ThumbnailSelected");var d=b.variant;b.type===
"image"&&d!==null&&(c.postCountMetric("ImageThumbnailSelectedVariant:"+d),d.indexOf("IG")===0&&(c.postCountMetric("IGImageSelectedVariant:"+d),c.postCountMetric("IGImageSelectedEvent:"+a.type)))})}function ha(){v&&(v.hide(),S.parent().css("z-index",-1),a("#video-canvas-caption").hide(),W())}function ca(g,c,e,f){var h;c==="chromeless-video"?o.getVideos(j)[e]==null?h=-1:(g=da(g,e,f),v&&v.play(),h=g):c==="chromeful-video"?(g=o.getVideos(j)[e])?(c=b.holderRatio||1,e=o.getMaxDimensionsOfMainImage(),f=
parseInt(g.videoWidth,10),h=parseInt(g.videoHeight,10),S.parent().css("z-index",2),h!=0&&f!=0&&(f/=h,e&&typeof e!=="undefined"&&(c=N.width()/N.height()),c>f?S.css("width",f/c*100+"%"):S.css("height",c/f*100+"%")),b.useIV&&E.css("cursor","default"),v?(v.show(),a("#video-canvas-caption").show(),o.loadMediaIntoAiryAndSetVolume(v,g,u)):(v=o.embedAiryForChromefulPlayback(S,g,u),g=a("#image-canvas-caption").clone().attr("id","video-canvas-caption"),g.appendTo(S),g.find("#canvasCaption").html(b.staticStrings.playVideo)),
h=S):h=-1:c==="hero-image"?h=ka(g,e,f):E.find(".item.itemNo"+f).length>0?h=E.find(".item.itemNo"+f):c=="image"&&(h=sa(g,e,f));return h}function A(a,b){if(a==null)return-1;E.find("li").removeClass("selected");o.hideUnavailableExp();if(!a.hasClass("fullImage")){q.length&&q.addClass("hide-background");var c=N.css("height");c!=null&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");b||qa()}}function k(a,c,h){var d;Z();V=!0;ha();a=(a=h?h:o.getColorFromState(c.getState().hovered_variations))&&
a!=""?a:b.defaultColor;d=(c=o.getColorFromState(c.getState().selected_variations))&&c!=""?c:b.defaultColor,c=d;if(c==j&&j==a)b.isSwatchHoverConsistent?e.trigger("image-block-select-thumbnail",w.find("img:eq("+F+")")):e.trigger("image-block-select-thumbnail",w.find("img:first"));else{c=!1;if(b.isSwatchHoverConsistent)if(H==="hero-image")h=U(a),f===h.variant&&(c=!0);else var h=a,i=B(h,f),h=i===-1?t(h,0):t(h,i);else h=t(a,0);if(h==-1)if(Q(a)!=-1)h=U(a),A(q,!0),c=1;else{c=E.find(".item.itemNo0");A(c);
o.showUnavailableExp(a);return}c||(a=E.find(".swatchHoverExp"),c=la(h),a.find("img"),a.find(".imgTagWrapper").html(c),o.loadImageManually(a.find(".a-dynamic-image")),A(a,!0))}}function x(a,c,e,h){Z();V=!0;a=(a=h?h:o.getColorFromState(c.getState().selected_variations))&&a!=""?a:b.defaultColor;if(a==j)typeof e=="function"&&e();else{var h=a,i="image",k=0,l=0,c="MAIN";if(H==="hero-image")Q(h)!==-1&&(i="hero-image",c=f);else{var n=B(h,f);n!==-1&&(l=k=n,c=f);Q(h)!==-1&&l++}h=i;i=c;h==="hero-image"?(q.hasClass("twisted")||
q.addClass("twisted"),c=ka(a,k,l,e)):c=sa(a,k,l,e);if(c==-1)if(i=Q(a),i!=-1)c=ka(a,k,l,e),h="hero-image",i=i.variant,l=0;else{o.showUnavailableExp(a);return}T(a,h,k,l,i);ta();E.find(".list .item").remove();q.length&&H!=="hero-image"&&q.addClass("twisted");c.hasClass("fullImage")||E.find(".list").append(c);qa();ba(a)}}function B(b,c){if(s.length<1)return-1;if(!s[b])return-1;if(!c)return-1;var d=-1;a.each(s[b],function(a,b){b.variant===c&&(d=a)});return d}function t(b,c){return s.length<1?-1:!s[b]?
-1:!s[b][c]?-1:!s[b][c].main?-1:a.map(s[b][c].main,function(a,b){return b}).length<1?-1:s[b][c]}function U(b){var c=Q(b);if(c==-1)return t(b,0);b=a.map(c.main,function(a,b){return b})[0];R(b,c.main[b]);q.addClass("twisted");q.hasClass("hide-background")&&q.removeClass("hide-background");return c}function Q(b){return I.length<1?-1:!I[b]?-1:!I[b].main?-1:a.map(I[b].main,function(a,b){return b}).length<1?-1:I[b]}function D(a,c){var e;if(b.burjImageBlock){var h=window.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth,f=b.heroFocalPoint;if(f&&typeof f!="undefined"){e=Math.max((h-Math.min(1500,a))/2,0);var i=Math.max((h-a)/2,0);e-=i;h=Math.max(Math.min(h,1500),1024);e=e+(h-420-23)/2-a/c[0]*f}}return e}function L(a){var c;if(b.burjImageBlock){c=a[0];a=a[1];if((window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)<=768)c*=0.7,a*=0.7;else{var e=((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,e=Math.max(Math.min(e,
1),0);c*=0.7+0.3*e;a*=0.7+0.3*e}c=[c,a]}return c}function R(a,c){if(q.length&&a&&c){var e=c[0],h=c[1];q.css({"background-image":'url("'+a+'")'});if(b.burjImageBlock){var f=J(c);if(f&&typeof f!="undefined")e=f.width,h=f.height,f.xPos&&typeof f.xPos!="undefined"?q.css({"background-position":f.xPos+"px "+f.yPos+"px"}):q.css({"background-position":"center "+f.yPos+"px"})}q.css({"background-size":e+"px "+h+"px","max-width":e+"px","min-height":h+"px",filter:"","-ms-filter":""})}}function da(a,b){var c=
o.getVideos(j)[b];if(!c)return-1;var d=E.find(".chromeless-video");if(d.hasClass(o.VIDEO_UNSUPPORTED_CLASS_NAME))return o.flashNotInstalled&&E.find(".noFlash").removeClass("a-hidden"),d;if(v)return v.show(),o.loadMediaIntoAiryAndSetVolume(v,c,u),d;v=o.embedAiryForChromelessPlayback(S,c,u,w,oa,d);return d}function Z(){o.flashNotInstalled&&E.find(".noFlash").addClass("a-hidden")}function ka(b,c,d,e){b=Q(b);if(b==-1)return-1;var f=a.map(b.main,function(a,b){return b})[0],h=b.main[f];q.hasClass("twisted")?
(o.loadImageAsynchronously(f,function(){typeof e==="function"&&e()}),R(f,h),q.removeClass("twisted"),q.hasClass("hide-background")&&q.removeClass("hide-background")):q.hasClass("loaded")?q.removeClass("hide-background"):o.loadImageAsynchronously(f,function(){R(f,h);q.addClass("loaded")});return q}function sa(a,b,c,d){a=t(a,b);if(a==-1)return-1;c=E.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+c+" maintain-height");d=la(a,!1,d);c.find(".placeHolder").replaceWith(d);
E.find(".list").append(c);o.loadImageManually(c.find(".a-dynamic-image"));return c}function la(c,e,f){var h,i,j="",j=o.getMaxDimensionsOfMainImage();a.each(c.main,function(a,c){h||(h=a);b.shouldApplyResizeFix?c[1]>0&&parseFloat(c[0]/c[1])<parseFloat(b.holderRatio)&&!i?i="a-stretch-vertical":i||(i="a-stretch-horizontal"):c[1]>0&&parseFloat(c[0]/c[1])<=parseFloat(b.holderRatio)&&!i?i="a-stretch-vertical":i||(i="a-stretch-horizontal")});var k=" a-dynamic-image ";k+=e?"slateImage":i;var l;b.useStretchyImageFix?
(e=o.getMaxHeightOfMainImage(c.main),l=o.getMaxWidthOfMainImage(c.main)):(e=N.height(),l=N.width());j&&typeof j!=="undefined"&&(l=Math.min(j[0],l),e=Math.min(j[1],e));j="max-height: "+e+"px; max-width: "+l+"px;";e=a("<div />");e.attr({"data-a-dynamic-image":JSON.stringify(c.main),"data-old-hires":c.hiRes,"class":k,"data-a-manual-replacement":"true",style:j,onload:typeof f!="undefined"?f:""});return e}function aa(b){a("input#show-immersive-view-on-softlines").val()=="true"&&ia.count("SoftlinesImmersiveViewOnPC",
(ia.count("SoftlinesImmersiveViewOnPC")||0)+1);$(b)}function $(e,f){if(b.useIV||f){if(v)u.volume=v.getVolume(),v.pause();b.isAUIPopoverEnabled?a("#auiImmersiveViewDiv").click():c.iVController(e,b,o,oa,f,b.isAUIPopoverEnabled)}}function ta(){C&&(C.destroy(),C=void 0)}function qa(){b.useHoverZoom&&n.when("imageMagnifier").execute(function(){var a={adjustment:[0,0,1,1],generalImageUrls:b.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:190,useHoverZoomIpad:b.useHoverZoomIpad,
useHoverZoom:b.useHoverZoom,logMetrics:null,isUDP:b.isUDP,burjImageBlock:b.burjImageBlock,useClickZoom:b.useClickZoom,zoomOutIcon:b.staticImages.zoomOutCur,isHoverZoomShawdowEnabled:b.isHoverZoomShawdowEnabled,isHoverZoomEnhancedShadowEnabled:b.isHoverZoomEnhancedShadowEnabled};ta();var c=E.find(".image.item.selected img[data-old-hires]").not("[data-old-hires='']");c.length>0&&(b.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(b){C=c.amazonMagnifier(a);C.engageMagnifier(b,
!0)}),pa?c.css("cursor",'url("'+b.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),c.css("cursor","zoom-in"))):C=c.amazonMagnifier(a))})}var y=navigator.userAgent.match(/cloud9|android|silk-accelerated/i),pa=navigator.userAgent.match(/msie|trident/i);b.useHoverZoom=b.useHoverZoom&&!y;var ia=window.ue,C;j=b.defaultColor;H="image";M=0;F=0;f="MAIN";var s=b.colorImages,I=b.heroImage,E=a("#imageBlock .canvas"),N=a("#main-image-container"),q=a("#heroImage"),
o=i.init(b),ma=b.mainImageSizes,w=a("#imageBlock #altImages ul"),G=b.useChromelessVideoPlayer,ea=navigator.userAgent.match(/ipad/i),V=!0,oa=new window.ImageBlockclientLogger("ImageBlockUDP",!0),v,u=b.airyConfig,S=function(){var b=a("<div></div>").attr("id","main-video-container"),c=a("<div></div>").attr("id","video-outer-container");b.prependTo(c);return G?b:b.addClass("chromeful-container")}(),ua,na=!1;b.isDebug&&window.console&&console.log(b);(function(){S.parent().prependTo(N);O();n.when("dpf").execute(h);
amznJQ&&amznJQ.available("dpf",h);a(window).resize(z);e.on("image-block-select-thumbnail",function(a){a&&(a.length<=0||(ea?a.click():a.mouseover()))});ba(j,!0);l();b.autoplayVideo?e.trigger("image-block-select-thumbnail",w.find("img:last")):e.trigger("image-block-select-thumbnail",w.find("img:first"));W()})()}(b,xa)});n.now().register("postMetric",function(){return{postCountMetric:function(e){if(typeof e!=="undefined"){var a=window.ue;if(a){var n=a.count(e)||0;a.count(e,n+1)}}}}})})})(function(){var n=
window.AmazonUIPageJS||P,e=n.attributeErrors;return e?e("ImageBlockJSAssets"):n}());